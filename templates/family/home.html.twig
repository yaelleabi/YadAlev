{% extends 'base.html.twig' %}
{% block title %}Espace Famille - Yad Alev
{% endblock %}

{% block body %}

	<!-- NAVBAR -->
	<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-2 fixed-top">
		<div
			class="container d-flex justify-content-between align-items-center">

			<!-- Logo + titre -->
			<div class="d-flex align-items-center gap-3">
				<a href="{{ path('app_family_home') }}">
					<img src="{{ asset('images/LOGO.PNG') }}" alt="Logo Yad Alev" class="nav-logo">
				</a>
				<span class="fw-bold text-primary fs-5">Espace Famille</span>
			</div>

			<!-- IcÃ´nes Ã  droite -->
			<div class="d-flex align-items-center gap-4">
				{% if family %}
					<a href="{{ path('app_family_show', { id: family.id }) }}" class="nav-icon" title="Mes informations">
						<i class="fas fa-user-circle"></i>
					</a>
				{% endif %}


				<a href="{{ path('app_logout') }}" class="nav-icon" title="Se dÃ©connecter">
					<i class="fas fa-sign-out-alt"></i>
				</a>
			</div>

		</div>
	</nav>


	<!-- CONTENU PRINCIPAL -->
	<div class="main-container ">

		<div
			class="content-wrapper d-flex flex-column justify-content-start align-items-center">

			<!-- Titre (dÃ©jÃ  bien placÃ©) -->
			<div class="text-center mb-5">
				<h3 class="fw-bold text-dark fade-in">Bonjour
					{{ family.firstName|capitalize }}
					!</h3>
				<h2 class="text-primary fw-bold mt-2 fade-in">Bienvenue sur votre espace famille</h2>
				<p class="text-muted mb-0 fade-in" style="animation-delay:.2s">Choisissez une action ci-dessous.</p>

				<!-- Banner Announcement -->
				{% if announcement %}
					<div class="alert alert-primary alert-dismissible d-flex align-items-center justify-content-between fade-in mx-auto mt-4" role="alert" style="border-radius: 50px; background-color: #e8f0fe; border: 1px solid #d0e1fd; max-width: 800px; padding-right: 20px;">
						<div class="d-flex align-items-center">
							<i class="fas fa-info-circle text-primary fs-4 me-3"></i>
							<div class="text-dark text-start pe-4">
								{{ announcement.message }}
							</div>
						</div>
						<button type="button" class="btn-close ms-3" data-bs-dismiss="alert" aria-label="Close" style="position: relative; top: unset; right: unset; padding: 1rem;"></button>
					</div>
				{% endif %}
			</div>


			<!-- Cartes CENTRÃ‰ES PLUS BAS -->
			<div
				class="card-zone row g-4 justify-content-center px-3 w-100">

				<!-- Carte 1 -->
				<div class="col-lg-3 col-md-6 col-sm-6 col-12 d-flex justify-content-center">
					<a href="{{ path('app_aidrequest_new') }}" class="family-card text-decoration-none card-anim">
						<img src="{{ asset('images/photomuriel2.jpeg') }}" alt="">
						<div class="p-3">
							<h5 class="text-dark fw-semibold">Faire une demande d'aide d'urgence</h5>
						</div>
					</a>
				</div>

				<!-- Carte 2 -->
				<div class="col-lg-3 col-md-6 col-sm-6 col-12 d-flex justify-content-center">
					<a href="{{ path('app_calendly')}}" class="family-card text-decoration-none card-anim" style="animation-delay:.15s">
						<img src="{{ asset('images/photomuriel1.jpeg') }}" alt="">
						<div class="p-3">
							<h5 class="text-dark fw-semibold">Prendre rendez-vous avec la permanence sociale</h5>
						</div>
					</a>
				</div>

				<!-- Carte 3 -->
				<div class="col-lg-3 col-md-6 col-sm-6 col-12 d-flex justify-content-center">
					<a href="#" class="family-card text-decoration-none card-anim" style="animation-delay:.3s">
						<img src="{{ asset('images/soutienscolaire.png') }}" alt="Soutien scolaire" style="object-position: top;">
						<div class="p-3">
							<h5 class="text-dark fw-semibold">Soutien scolaire</h5>
						</div>
					</a>
				</div>

				<!-- Carte 4 -->
				<div class="col-lg-3 col-md-6 col-sm-6 col-12 d-flex justify-content-center">
					<a href="#" class="family-card text-decoration-none card-anim" style="animation-delay:.45s">
						<img src="{{ asset('images/ateliermumu.jpg') }}" alt="Les ateliers de mumu" style="object-position: top;">
						<div class="p-3">
							<h5 class="text-dark fw-semibold">Les ateliers de mumu</h5>
						</div>
					</a>
				</div>
			</div>

		</div>

		<!-- FOOTER -->
		<footer class="footer-custom text-center text-muted small py-4">
			<div class="footer-line mx-auto"></div>

			<div class="footer-content mt-3">
				<img src="{{ asset('images/LOGO.PNG') }}" alt="Yad Alev" class="footer-logo mb-1">
				<p class="m-0">Â© 2025 Espace Famille Yad Alev â€” Tous droits rÃ©servÃ©s.</p>
			</div>
		</footer>

	</div>


	<style>

		/* --- NAVBAR --- */
		.navbar {
			border-bottom: 1px solid #e2e8f0;
			z-index: 2000;
		}
		.nav-logo {
			width: 48px;
		}
		.nav-icon {
			font-size: 1.4rem;
			color: #444;
			transition: 0.2s;
		}
		.nav-icon:hover {
			color: #0d6efd;
			transform: translateY(-2px);
		}


		/* --- LAYOUT PRINCIPAL --- */
		.main-container {
			min-height: 100vh;
			display: flex;
			flex-direction: column;
		}
		.content-wrapper {
			flex: 1;
			width: 100%;
		}

		/* ðŸŒŸ NOUVEAU â†’ Zone des cartes descendue */
		.card-zone {
			margin-top: 50px; /* <<< tu peux ajuster si tu veux encore plus bas */
		}

		/* --- CARTES --- */
		.family-card {
			background: #fff;
			border-radius: 1rem;
			overflow: hidden;
			transition: 0.25s;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.10);
			border: 1px solid #e2e8f0;
			max-width: 330px;
			width: 100%;
			height: 100%;
			display: flex;
			flex-direction: column;
		}
		.family-card:hover {
			transform: translateY(-6px);
			box-shadow: 0 18px 45px rgba(0, 0, 0, 0.15);
		}
		.family-card img {
			width: 100%;
			height: 170px;
			object-fit: cover;
			transition: 0.3s;
		}
		.family-card:hover img {
			filter: brightness(0.9);
		}
		.family-card div {
			flex-grow: 1;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		/* Animation */
		.fade-in,
		.card-anim {
			opacity: 0;
			animation: fadeSlide 0.7s ease forwards;
		}
		@keyframes fadeSlide {
			from {
				opacity: 0;
				transform: translateY(20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		/* --- FOOTER --- */
		.footer-custom {
			margin-top: auto;
		}
		.footer-line {
			width: 85%;
			height: 1px;
			background: #d0d7e0;
		}
		.footer-logo {
			width: 60px;
			opacity: .9;
		}

		/* RESPONSIVE */
		@media(max-width: 768px) {
			.nav-logo {
				width: 40px;
			}
			.family-card {
				max-width: 100%;
			}
			.family-card img {
				height: 150px;
			}
			h2 {
				font-size: 1.5rem;
			}
			.footer-logo {
				width: 50px;
			}
		}
	</style>
{% endblock %}
